# 正则表达式(5)

# 一. 什么是特殊边界

前面学习了边界断言，通过断言表达式前后的内容，来决定是否匹配。但在一些特殊场景中断言无法进行，比如断言**文本开头**，目前所学正则没有一个字符可用来表示文本开头，自然无法进行断言。

但这类使用场景是真实存在的，而且还很频繁。比如：判断一段文本是否以"hello"开头。为了实现这类需求，正则中用`^` 表示文本的开头，它是一个特殊边界断言，`^hello`即匹配"hello"字符，并且它在文本的开头。

> `^` 这里并不表示某个具体字符，而是一个**后置断言**，断言为文本的开头。`^hello`等价于`(?<=^)Hello`,你可以认为`^`相当于是`(?<=^)`简写。就像`*`是`{0,}`简写一样。

匹配文本中开头的Hello：

```
^Hello
```

```
Hello 你好
it's me 是我
I was wondering 我在想 
if after all these years 这么多年过去
You'd like to meet to go over everything 你是否愿意还见我，回想起
Hello 你好
can you hear me 听得到我吗

```

## 1.1 定义

在正则中的文本边界、行边界、单词边界即为特殊边界断言，本质上还是**边界断言**，用于计算出布尔值，并且也不消耗字符。其语法如下表：

| 语法               | 描述                                                      | 兼容性            |
| :----------------- | :-------------------------------------------------------- | :---------------- |
| `^` 文本开头       | 默认情况下，表示断言文本开头                              |                   |
| `$`文本结尾        | 默认情况下，表示断言文本结尾                              |                   |
| `^` 行开头         | 被`m`修饰后，`^`表示行的开头，等价于`(?<=\n|\A)`          |                   |
| `$` 行结尾         | 被`m`修饰后，`$`表示行的结尾,等价于`(?=\n|\Z)`            |                   |
| `\A` 文本开头      | 断言文本开头                                              | Javascript 不支持 |
| `\Z` 文本结尾      | 断言文本结尾                                              | Javascript 不支持 |
| `\b`单词开头或结尾 | 断言单词开头或结尾                                        |                   |
| `\B`               | `\b` 否定式,非单词开头或结尾 ，等价于`(?<!\b)` 或`(?!\b)` |                   |

> `m`是一个行边界修饰符，它决定`^$`匹配机制，加入`m`表示行边界，否则就是文本边界。

由于特殊边界断言，都是单个元字符表示，很容易认人误解成是普通字符，常见误区就像`\b` 理解成单词分割空格，或把 `^` 误解成行的分割`\n`。事实上它们只是断言，是不会消耗字符的。

# 二. 文本边界

文本边界，即整个字符串开始与结束位置，它有两种表示方式：`\A` `\Z`和 `^` `$` 都分别断言为开头和结尾。遗憾的是`\A` `\Z`在javascript中不支持，`^ $` 有时又要用来表示行的开头和结尾，真是太难为开发者了。

为什么会这样呢？因为正则开发之初就是为单行做匹配的，行边界即文本边界，用`^ $`表示没毛病，后来正则支持匹配多行了，`^ $` 产生了歧义所以用`m`修饰符加以修正。

为了避免混淆，我建议如果是做单行匹配，全部用`^$`表示行边界和文本边界。如果是多行尽量用`\A\Z`表文本边界，用`^$`表示行边界。

> 由于本教程是基于javascript引擎，所以只能用 `^$` 表示文本边界。

## 2.1 案例

接下来基于文本边界，实现一个删除文本前后空白行的案例：

删除代码前后的空白行，类似字符串的`trim()`操作：

```
```

```java

public class Main {
   public static void main(String[] args) throws IOException {
       System.out.println("开始执行:请输入你的年龄");
       System.in.read();
       System.out.println("开始执行");
   }
}      

```









# 三. 行边界







# 四. 单词边界





# 五. 常见案例

